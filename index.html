<!DOCTYPE html>

<html>

    <head>

      <!-- GOOGLE PUBLISHER CENTER VERIFICATION: -->

        <!-- Load the Google Analytics gtag.js library asynchronously -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-TMPL32CFHS"></script>
        
        <script>
          
          // Initialize the dataLayer, if it is not already initialized

          window.dataLayer = window.dataLayer || [];


          // Define the gtag function that pushes events to the dataLayer

          function gtag(){

            dataLayer.push(arguments);
          
          }


          // Send an event to indicate the page load time (using the current date)
          gtag('js', new Date());

          
          // Configure Google Analytics with the GA4 property's unique Measurement ID
          gtag('config', 'G-TMPL32CFHS');
          
        </script>

      <!-- LINKING FONTS: -->

        <!-- 
            > Pre-connect to the Google Fonts domain to speed up font loading
            >> This helps the browser connect to the fonts.googleapis.com domain early
            >>> This allows the font stylesheet to load faster
        -->
          
          <link rel="preconnect" href="https://fonts.googleapis.com">

        <!--
            > Pre-connect to the fonts.gstatic.com domain to load static font files
            >> This allows the browser to start making a connection to the domain where font files are served
            >>> This further improves the load time for fonts
        -->

          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


        <!-- 'JetBrains'
            > Link to Google Fonts to load the JetBrains Mono font family
            > 'family=JetBrainsMono'
            >> Specifies the font to use
            > 'ital,wght@0,100..800;1,100..800'
            >> Defines requested weights and italics
            > 'display=swap'
            >> Ensures that the fallback font is shown until the custom font is loaded
        -->

          <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">


        <!-- 
            LINKING 'Merriweather' FONT:
            > For more details, see comments for 'JetBrains' font above
        -->

          <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">


        <!-- 'Tiny5'
            > For more details, see comments for 'JetBrains' font above
        -->
      
          <link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
        
      <!-- STYLE SHEET -->

        <link rel="stylesheet" href="css/styles.css">

      <!-- Links to favicons -->
        
        <link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/white-favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/white-favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="48x48" href="/images/favicons/white-favicon-48x48.png">
        <link rel="icon" type="image/png" sizes="64x64" href="/images/favicons/white-favicon-64x64.png">
        <link rel="icon" type="image/png" sizes="180x180" href="/images/white-apple-touch-icon-180x180.png">

      <!-- Setting character encoding -->
      <meta charset="UTF-8">

      <!--
          Set viewport for responsive design:
          > 'Width'
          >> Ensures the page fits the screen
          > 'Initial-scale'
          >> Sets the zoom level
      -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <!-- Setting website title -->
      <title>REIGNSOUND™ NEWS</title>

    </head>

    <body>

      <div class="main-wrapper">

      <!-- NEWS BANNER TEMPLATE -->

        <template id="news-banner-template">

            <hr>

                <div class="breaking-banner">

                    <div class="breaking-track">
                      
                        <div 
                        class="breaking-content"
                        >

                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>

                        </div>

                        <div class="breaking-content">

                            <span></span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>

                        </div>

                    </div>

                </div>

            <hr>

        </template>


      <!-- NEWS BANNER ALTERNATE TEMPLATE -->

        <template id="news-banner-ALT-template">

            <hr>

                <div class="breaking-banner">

                    <div class="breaking-track">
                      
                        <div 
                        class="breaking-content"
                        style="padding-left: 8px;"
                        >

                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>

                        </div>

                        <div class="breaking-content">

                            <span></span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>
                            <span>PRESS</span>

                        </div>

                    </div>

                </div>

            <hr>

        </template>

        <header>

            <div 
            class="theme-toggle"
            style="text-align: center; margin-bottom: 20px;"
            >

              <button id="theme-toggle">🌓 Toggle Dark Mode</button>
            
            </div>


            <div class="news-banner-slot"></div>
              
            <br>

            <!-- Title Section -->
            <div class="title">
                REIGNSOUND<sup class="trademarking-title">SM</sup> NEWS
            </div>

            <!-- Subtitle Section -->
            <div class="subtitle">
                A Reignsound<sup class="trademarking-title">SM</sup> company
            </div>

            <br>

            <div class="news-banner-slot-2"></div>

        </header>

        <main>

            <div 
            id="article-slot-3" 
            class="article-slot"
            ></div>

            <div class="news-banner-slot-2"></div>

            <div 
            id="article-slot-2" 
            class="article-slot"
            ></div>

            <div class="news-banner-slot-2"></div>

            <div 
            id="article-slot-1" 
            class="article-slot"
            ></div>

            <div class="news-banner-slot-2"></div>

        </main>

        <br>

        <footer>

          <div class="footer-content">
      
            <div class="footer-disclaimer">

              <div class="footer-disclaimer-line-1">

                <!-- 
                  Copyright:
                    — Symbol
                    — Year
                -->
                <span class="copyright">
                  
                  <!-- Copyright symbol (alt=="&copy;") -->
                  &copy;
                          
                </span>  
                
                <span id="current-year">
                </span>
                
                <span class="publication-name">
                        
                  REIGNSOUND<sup class="trademarking-footer">SM</sup> NEWS
                  <br>
      
                </span>

              </div>
              
              Powered by Reignsound<sup class="trademarking-footer">SM</sup>
              <br>
              
              All rights reserved
              <br>
              <br>
      
            </div>
      
            <div class="footer-sitemap">
            
              <a href="https://reignsoundpress.github.io/sitemap.xml">Sitemap</a>
      
            </div>
      
          </div>
          
        </footer>

      <!-- ARTICLE DETAILS TOGGLE SCRIPT -->
      
        <script>
            function toggleDetails(el) {
              el.classList.toggle("open");
            }
        </script>


      <!-- ARTICLE LOADER SCRIPT -->

        <script>
          
          const articles = [

            { id: "article-slot-1", file: "news/articles/2022-11-16/ataah-king-wrongful-arrest/index.html" },
            
            { id: "article-slot-3", file: "news/articles/2024-10-25-NY-weekly/index.html" },
            
            { id: "article-slot-2", file: "news/articles/2024-10-03-TBWST/index.html" }

          ];


          articles.forEach(article => {

              fetch(article.file)

                .then(res => res.text())

                .then(html => {

                  // Create a temporary container

                  const temp = document.createElement("div");

                  temp.innerHTML = html;

                  console.log("🔎 Checking for dark-mode-toggle in:", article.file);

                  
                  // Try to find and remove dark-mode-toggle

                  const toggle = temp.querySelector(".dark-mode-toggle");

                  if (toggle) {

                    toggle.remove();

                    console.log("✅ Removed dark-mode-toggle");

                  } else {
                    console.warn("⚠️ .dark-mode-toggle not found");
                  }


                  // Remove entire <footer> if found

                  const footer = temp.querySelector("footer");

                  if (footer) {

                    footer.remove();

                    console.log("✅ Removed footer");

                  } else {
                    console.warn("⚠️ Footer not found");
                  }
                  

                  // Insert cleaned HTML

                  document.getElementById(article.id).innerHTML = temp.innerHTML;

                })

                .catch(err => {
                  console.error("❌ Error loading article", article.file, err);
                });
                
            });

        </script>


      <script>
    
          // Set the current year for copyright
          document.getElementById('current-year').textContent = new Date().getFullYear();
          
      </script>
      
      <script>
        
        document.addEventListener("DOMContentLoaded", function() {
          
          // Defining options for date formatting
          const options = { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' };

          /* 
            DOCUMENT'S LAST MODIFIED DATE:
              — Getting the HTML document's last modified date
              — Formatting the HTML document's last modified date
          */
          const documentLastModifiedDate = new Date(document.lastModified);
          const formattedDocumentDate = documentLastModifiedDate.toLocaleDateString('en-US', options);

          // Getting all the <article> elements
          const articles = document.querySelectorAll("article");

          // Looping through each article
          articles.forEach(
            
            (article) => {

              // Getting the published date
              let publishedDateString = article.getAttribute("data-published-date");
    
              // Using the document's last modified date if publishedDateString is not set
              if (!publishedDateString) {
    
                publishedDateString = documentLastModifiedDate;
              
              }
    
              /*
                ARTICLE PUBLISHED DATE:
                  — Setting the article's published date
                  — Formatting the article's published date
              */
              const publishedDate = new Date(publishedDateString);
              const publishedDateFormatted = publishedDate.toLocaleDateString('en-US', options);
    
              /*
                INSERTING PUBLISHED DATE:
                  — Gathering/selecting published-date elements
                  — Inserting published date text into published-date elements
              */
              const publishedDateElements = article.querySelectorAll(".published-date");
    
              // Looping through each published-date element
              publishedDateElements.forEach(
                
                (element) => {
    
                  // Setting the text content for each element to the formatted published date
                  element.textContent = publishedDateFormatted;
    
                }
                
              );

              /*
                ARTICLE'S LAST MODIFIED DATE:
                  — Getting the article's last modified date
                  — Setting the document's last modified date as default
                  — Setting the article's last modified date
                  — Formatting the article's last modified date
              */
              let lastModifiedDateString = article.getAttribute("data-last-modified");

              // Using the document's last modified date if lastModifiedDateString is not set
              if (!lastModifiedDateString) {

                lastModifiedDateString = documentLastModifiedDate;
                
              }

              // Setting the article's last modified date
              const lastModifiedDate = new Date(lastModifiedDateString);

              // Formatting the article's last modified date
              const lastModifiedDateFormatted = lastModifiedDate.toLocaleDateString('en-US', options);

              /*
                INSERTING ARTICLE'S LAST MODIFIED DATE
                  — Gathering/selecting all updated-date elements within the article element
                  — Inserting updated date text into published-date elements
              */
              const updatedDateElements = article.querySelectorAll(".updated-date");

              // Looping through each updated-date element
              updatedDateElements.forEach(
                
                (element) => {
    
                  // Setting the text content for each element to the formatted published date
                  element.textContent = "Updated " + lastModifiedDateFormatted;
    
                }
              
              );

            }
          
          );

        });
        
      </script>


      <!-- DARK MODE TOGGLE SCRIPT -->

        <script>
          const toggleBtn = document.getElementById('theme-toggle');
          let theme = localStorage.getItem('theme');

          if (!theme) {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            theme = prefersDark ? 'dark' : 'light';
          }

          if (theme === 'dark') {
            document.body.classList.add('dark-mode');
            toggleBtn.textContent = '🌓 Toggle Light Mode';
          } else {
            toggleBtn.textContent = '🌓 Toggle Dark Mode';
          }

          toggleBtn.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            toggleBtn.textContent = isDark ? '🌓 Toggle Light Mode' : '🌓 Toggle Dark Mode';
          });
        </script>


      <!-- NEWS BANNER LOAD SCRIPT -->

        <script>

            function loadTemplate(templateId, selector) {

                const template = document.getElementById(templateId);

                document.querySelectorAll(selector).forEach(slot => {slot.appendChild(template.content.cloneNode(true));

                });

            }

            loadTemplate("news-banner-template", ".news-banner-slot");

            loadTemplate("news-banner-ALT-template", ".news-banner-slot-2");

        </script>


      <!-- NEWS BANNER SCROLL SCRIPT -->

        <script>
          const breakingTrack = document.querySelector('.breaking-track');

          // Clone the content once on load
          const originalContent = breakingTrack.innerHTML;
          breakingTrack.innerHTML += originalContent; // Duplicate the content for continuous loop

          // Function to handle the page scroll effect (parallax effect)
          window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            document.querySelectorAll('.breaking-track').forEach(track => {
              // Adjust the multiplier to control how fast each banner scrolls
              track.style.transform = `translateX(-${scrollY * 0.2}px)`;
            });
          });

          // Infinite scroll logic
          const contentWidth = breakingTrack.scrollWidth;

          // Loop content logic
          function loopContent() {
            if (breakingTrack.scrollLeft >= contentWidth) {
              breakingTrack.scrollLeft = 0; // Reset scroll position once content has been fully scrolled
            }
          }

          // Start the loop effect
          let isInView = false;

          // Using IntersectionObserver to start the scroll when the banner is in view
          const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                isInView = true;
              } else {
                isInView = false;
              }
            });
          }, { threshold: 0.1 }); // Trigger when 10% of the element is in view

          // Observe the breaking-track element
          observer.observe(breakingTrack);

          // Start the loop only when the banner is in view
          setInterval(() => {
            if (isInView) {
              loopContent(); // Only loop if the banner is visible
            }
          }, 10); // Check every 10ms to reset scroll

          // Optional: Adjust the scroll speed when manually dragging
          breakingTrack.addEventListener("scroll", () => {
            const currentScroll = breakingTrack.scrollLeft;

            // Prevent going beyond content limits
            if (currentScroll < contentWidth) {
              breakingTrack.scrollLeft += 1;  // Adjust speed of loop
            }
          });
        </script>

    </div>
      
    </body>

</html>
